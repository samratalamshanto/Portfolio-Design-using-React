{"ast":null,"code":"'use strict';\n\nvar util = require('util');\n\nvar Transform = require('stream').Transform;\n\nfunction ctor(options, transform) {\n  util.inherits(FirstChunk, Transform);\n\n  if (typeof options === 'function') {\n    transform = options;\n    options = {};\n  }\n\n  if (typeof transform !== 'function') {\n    throw new Error('transform function required');\n  }\n\n  function FirstChunk(options2) {\n    if (!(this instanceof FirstChunk)) {\n      return new FirstChunk(options2);\n    }\n\n    Transform.call(this, options2);\n    this._firstChunk = true;\n    this._transformCalled = false;\n    this._minSize = options.minSize;\n  }\n\n  FirstChunk.prototype._transform = function (chunk, enc, cb) {\n    this._enc = enc;\n\n    if (this._firstChunk) {\n      this._firstChunk = false;\n\n      if (this._minSize == null) {\n        transform.call(this, chunk, enc, cb);\n        this._transformCalled = true;\n        return;\n      }\n\n      this._buffer = chunk;\n      cb();\n      return;\n    }\n\n    if (this._minSize == null) {\n      this.push(chunk);\n      cb();\n      return;\n    }\n\n    if (this._buffer.length < this._minSize) {\n      this._buffer = Buffer.concat([this._buffer, chunk]);\n      cb();\n      return;\n    }\n\n    if (this._buffer.length >= this._minSize) {\n      transform.call(this, this._buffer.slice(), enc, function () {\n        this.push(chunk);\n        cb();\n      }.bind(this));\n      this._transformCalled = true;\n      this._buffer = false;\n      return;\n    }\n\n    this.push(chunk);\n    cb();\n  };\n\n  FirstChunk.prototype._flush = function (cb) {\n    if (!this._buffer) {\n      cb();\n      return;\n    }\n\n    if (this._transformCalled) {\n      this.push(this._buffer);\n      cb();\n    } else {\n      transform.call(this, this._buffer.slice(), this._enc, cb);\n    }\n  };\n\n  return FirstChunk;\n}\n\nmodule.exports = function () {\n  return ctor.apply(ctor, arguments)();\n};\n\nmodule.exports.ctor = ctor;","map":{"version":3,"names":["util","require","Transform","ctor","options","transform","inherits","FirstChunk","Error","options2","call","_firstChunk","_transformCalled","_minSize","minSize","prototype","_transform","chunk","enc","cb","_enc","_buffer","push","length","Buffer","concat","slice","bind","_flush","module","exports","apply","arguments"],"sources":["G:/anaconda/project/download files/last down/New folder/desktop/Samrat/protfolio/protfolio/node_modules/first-chunk-stream/index.js"],"sourcesContent":["'use strict';\nvar util = require('util');\nvar Transform = require('stream').Transform;\n\nfunction ctor(options, transform) {\n\tutil.inherits(FirstChunk, Transform);\n\n\tif (typeof options === 'function') {\n\t\ttransform = options;\n\t\toptions = {};\n\t}\n\n\tif (typeof transform !== 'function') {\n\t\tthrow new Error('transform function required');\n\t}\n\n\tfunction FirstChunk(options2) {\n\t\tif (!(this instanceof FirstChunk)) {\n\t\t\treturn new FirstChunk(options2);\n\t\t}\n\n\t\tTransform.call(this, options2);\n\n\t\tthis._firstChunk = true;\n\t\tthis._transformCalled = false;\n\t\tthis._minSize = options.minSize;\n\t}\n\n\tFirstChunk.prototype._transform = function (chunk, enc, cb) {\n\t\tthis._enc = enc;\n\n\t\tif (this._firstChunk) {\n\t\t\tthis._firstChunk = false;\n\n\t\t\tif (this._minSize == null) {\n\t\t\t\ttransform.call(this, chunk, enc, cb);\n\t\t\t\tthis._transformCalled = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._buffer = chunk;\n\t\t\tcb();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._minSize == null) {\n\t\t\tthis.push(chunk);\n\t\t\tcb();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._buffer.length < this._minSize) {\n\t\t\tthis._buffer = Buffer.concat([this._buffer, chunk]);\n\t\t\tcb();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._buffer.length >= this._minSize) {\n\t\t\ttransform.call(this, this._buffer.slice(), enc, function () {\n\t\t\t\tthis.push(chunk);\n\t\t\t\tcb();\n\t\t\t}.bind(this));\n\t\t\tthis._transformCalled = true;\n\t\t\tthis._buffer = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.push(chunk);\n\t\tcb();\n\t};\n\n\tFirstChunk.prototype._flush = function (cb) {\n\t\tif (!this._buffer) {\n\t\t\tcb();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._transformCalled) {\n\t\t\tthis.push(this._buffer);\n\t\t\tcb();\n\t\t} else {\n\t\t\ttransform.call(this, this._buffer.slice(), this._enc, cb);\n\t\t}\n\t};\n\n\treturn FirstChunk;\n}\n\nmodule.exports = function () {\n\treturn ctor.apply(ctor, arguments)();\n};\n\nmodule.exports.ctor = ctor;\n"],"mappings":"AAAA;;AACA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,QAAD,CAAP,CAAkBC,SAAlC;;AAEA,SAASC,IAAT,CAAcC,OAAd,EAAuBC,SAAvB,EAAkC;EACjCL,IAAI,CAACM,QAAL,CAAcC,UAAd,EAA0BL,SAA1B;;EAEA,IAAI,OAAOE,OAAP,KAAmB,UAAvB,EAAmC;IAClCC,SAAS,GAAGD,OAAZ;IACAA,OAAO,GAAG,EAAV;EACA;;EAED,IAAI,OAAOC,SAAP,KAAqB,UAAzB,EAAqC;IACpC,MAAM,IAAIG,KAAJ,CAAU,6BAAV,CAAN;EACA;;EAED,SAASD,UAAT,CAAoBE,QAApB,EAA8B;IAC7B,IAAI,EAAE,gBAAgBF,UAAlB,CAAJ,EAAmC;MAClC,OAAO,IAAIA,UAAJ,CAAeE,QAAf,CAAP;IACA;;IAEDP,SAAS,CAACQ,IAAV,CAAe,IAAf,EAAqBD,QAArB;IAEA,KAAKE,WAAL,GAAmB,IAAnB;IACA,KAAKC,gBAAL,GAAwB,KAAxB;IACA,KAAKC,QAAL,GAAgBT,OAAO,CAACU,OAAxB;EACA;;EAEDP,UAAU,CAACQ,SAAX,CAAqBC,UAArB,GAAkC,UAAUC,KAAV,EAAiBC,GAAjB,EAAsBC,EAAtB,EAA0B;IAC3D,KAAKC,IAAL,GAAYF,GAAZ;;IAEA,IAAI,KAAKP,WAAT,EAAsB;MACrB,KAAKA,WAAL,GAAmB,KAAnB;;MAEA,IAAI,KAAKE,QAAL,IAAiB,IAArB,EAA2B;QAC1BR,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqBO,KAArB,EAA4BC,GAA5B,EAAiCC,EAAjC;QACA,KAAKP,gBAAL,GAAwB,IAAxB;QACA;MACA;;MAED,KAAKS,OAAL,GAAeJ,KAAf;MACAE,EAAE;MACF;IACA;;IAED,IAAI,KAAKN,QAAL,IAAiB,IAArB,EAA2B;MAC1B,KAAKS,IAAL,CAAUL,KAAV;MACAE,EAAE;MACF;IACA;;IAED,IAAI,KAAKE,OAAL,CAAaE,MAAb,GAAsB,KAAKV,QAA/B,EAAyC;MACxC,KAAKQ,OAAL,GAAeG,MAAM,CAACC,MAAP,CAAc,CAAC,KAAKJ,OAAN,EAAeJ,KAAf,CAAd,CAAf;MACAE,EAAE;MACF;IACA;;IAED,IAAI,KAAKE,OAAL,CAAaE,MAAb,IAAuB,KAAKV,QAAhC,EAA0C;MACzCR,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqB,KAAKW,OAAL,CAAaK,KAAb,EAArB,EAA2CR,GAA3C,EAAgD,YAAY;QAC3D,KAAKI,IAAL,CAAUL,KAAV;QACAE,EAAE;MACF,CAH+C,CAG9CQ,IAH8C,CAGzC,IAHyC,CAAhD;MAIA,KAAKf,gBAAL,GAAwB,IAAxB;MACA,KAAKS,OAAL,GAAe,KAAf;MACA;IACA;;IAED,KAAKC,IAAL,CAAUL,KAAV;IACAE,EAAE;EACF,CAzCD;;EA2CAZ,UAAU,CAACQ,SAAX,CAAqBa,MAArB,GAA8B,UAAUT,EAAV,EAAc;IAC3C,IAAI,CAAC,KAAKE,OAAV,EAAmB;MAClBF,EAAE;MACF;IACA;;IAED,IAAI,KAAKP,gBAAT,EAA2B;MAC1B,KAAKU,IAAL,CAAU,KAAKD,OAAf;MACAF,EAAE;IACF,CAHD,MAGO;MACNd,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqB,KAAKW,OAAL,CAAaK,KAAb,EAArB,EAA2C,KAAKN,IAAhD,EAAsDD,EAAtD;IACA;EACD,CAZD;;EAcA,OAAOZ,UAAP;AACA;;AAEDsB,MAAM,CAACC,OAAP,GAAiB,YAAY;EAC5B,OAAO3B,IAAI,CAAC4B,KAAL,CAAW5B,IAAX,EAAiB6B,SAAjB,GAAP;AACA,CAFD;;AAIAH,MAAM,CAACC,OAAP,CAAe3B,IAAf,GAAsBA,IAAtB"},"metadata":{},"sourceType":"script"}