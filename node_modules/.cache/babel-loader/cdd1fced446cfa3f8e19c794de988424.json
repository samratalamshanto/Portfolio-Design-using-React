{"ast":null,"code":"'use strict';\n\nvar through2 = require('through2');\n\nvar fs = require('graceful-fs');\n\nvar prepareWrite = require('../prepareWrite');\n\nfunction symlink(outFolder, opt) {\n  function linkFile(file, enc, cb) {\n    var srcPath = file.path;\n    var symType = file.isDirectory() ? 'dir' : 'file';\n    prepareWrite(outFolder, file, opt, function (err, writePath) {\n      if (err) {\n        return cb(err);\n      }\n\n      fs.symlink(srcPath, writePath, symType, function (err) {\n        if (err && err.code !== 'EEXIST') {\n          return cb(err);\n        }\n\n        cb(null, file);\n      });\n    });\n  }\n\n  var stream = through2.obj(opt, linkFile); // TODO: option for either backpressure or lossy\n\n  stream.resume();\n  return stream;\n}\n\nmodule.exports = symlink;","map":{"version":3,"names":["through2","require","fs","prepareWrite","symlink","outFolder","opt","linkFile","file","enc","cb","srcPath","path","symType","isDirectory","err","writePath","code","stream","obj","resume","module","exports"],"sources":["G:/anaconda/project/download files/last down/New folder/desktop/Samrat/protfolio/protfolio/node_modules/vinyl-fs/lib/symlink/index.js"],"sourcesContent":["'use strict';\n\nvar through2 = require('through2');\nvar fs = require('graceful-fs');\nvar prepareWrite = require('../prepareWrite');\n\nfunction symlink(outFolder, opt) {\n  function linkFile(file, enc, cb) {\n    var srcPath = file.path;\n    var symType = (file.isDirectory() ? 'dir' : 'file');\n    prepareWrite(outFolder, file, opt, function(err, writePath) {\n      if (err) {\n        return cb(err);\n      }\n      fs.symlink(srcPath, writePath, symType, function(err) {\n        if (err && err.code !== 'EEXIST') {\n          return cb(err);\n        }\n        cb(null, file);\n      });\n    });\n  }\n\n  var stream = through2.obj(opt, linkFile);\n  // TODO: option for either backpressure or lossy\n  stream.resume();\n  return stream;\n}\n\nmodule.exports = symlink;\n"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,aAAD,CAAhB;;AACA,IAAIE,YAAY,GAAGF,OAAO,CAAC,iBAAD,CAA1B;;AAEA,SAASG,OAAT,CAAiBC,SAAjB,EAA4BC,GAA5B,EAAiC;EAC/B,SAASC,QAAT,CAAkBC,IAAlB,EAAwBC,GAAxB,EAA6BC,EAA7B,EAAiC;IAC/B,IAAIC,OAAO,GAAGH,IAAI,CAACI,IAAnB;IACA,IAAIC,OAAO,GAAIL,IAAI,CAACM,WAAL,KAAqB,KAArB,GAA6B,MAA5C;IACAX,YAAY,CAACE,SAAD,EAAYG,IAAZ,EAAkBF,GAAlB,EAAuB,UAASS,GAAT,EAAcC,SAAd,EAAyB;MAC1D,IAAID,GAAJ,EAAS;QACP,OAAOL,EAAE,CAACK,GAAD,CAAT;MACD;;MACDb,EAAE,CAACE,OAAH,CAAWO,OAAX,EAAoBK,SAApB,EAA+BH,OAA/B,EAAwC,UAASE,GAAT,EAAc;QACpD,IAAIA,GAAG,IAAIA,GAAG,CAACE,IAAJ,KAAa,QAAxB,EAAkC;UAChC,OAAOP,EAAE,CAACK,GAAD,CAAT;QACD;;QACDL,EAAE,CAAC,IAAD,EAAOF,IAAP,CAAF;MACD,CALD;IAMD,CAVW,CAAZ;EAWD;;EAED,IAAIU,MAAM,GAAGlB,QAAQ,CAACmB,GAAT,CAAab,GAAb,EAAkBC,QAAlB,CAAb,CAjB+B,CAkB/B;;EACAW,MAAM,CAACE,MAAP;EACA,OAAOF,MAAP;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiBlB,OAAjB"},"metadata":{},"sourceType":"script"}