{"ast":null,"code":"'use strict';\n\nvar fs = require('graceful-fs');\n\nvar fo = require('../../fileOperations');\n\nvar streamFile = require('../../src/getContents/streamFile');\n\nfunction writeStream(writePath, file, written) {\n  var opt = {\n    mode: file.stat.mode,\n    flag: file.flag\n  };\n  var outStream = fs.createWriteStream(writePath, opt);\n  file.contents.once('error', complete);\n  file.contents.once('end', readStreamEnd);\n  outStream.once('error', complete);\n  outStream.once('finish', complete); // Streams are piped with end disabled, this prevents the\n  // WriteStream from closing the file descriptor after all\n  // data is written.\n\n  file.contents.pipe(outStream, {\n    end: false\n  });\n\n  function readStreamEnd() {\n    streamFile(file, complete);\n  }\n\n  function end(propagatedErr) {\n    outStream.end(onEnd);\n\n    function onEnd(endErr) {\n      written(propagatedErr || endErr);\n    }\n  } // Cleanup\n\n\n  function complete(streamErr) {\n    file.contents.removeListener('error', complete);\n    file.contents.removeListener('end', readStreamEnd);\n    outStream.removeListener('error', complete);\n    outStream.removeListener('finish', complete);\n\n    if (streamErr) {\n      return end(streamErr);\n    }\n\n    if (typeof outStream.fd !== 'number') {\n      return end();\n    }\n\n    fo.updateMetadata(outStream.fd, file, end);\n  }\n}\n\nmodule.exports = writeStream;","map":{"version":3,"names":["fs","require","fo","streamFile","writeStream","writePath","file","written","opt","mode","stat","flag","outStream","createWriteStream","contents","once","complete","readStreamEnd","pipe","end","propagatedErr","onEnd","endErr","streamErr","removeListener","fd","updateMetadata","module","exports"],"sources":["G:/anaconda/project/download files/last down/New folder/desktop/Samrat/protfolio/protfolio/node_modules/vinyl-fs/lib/dest/writeContents/writeStream.js"],"sourcesContent":["'use strict';\n\nvar fs = require('graceful-fs');\n\nvar fo = require('../../fileOperations');\nvar streamFile = require('../../src/getContents/streamFile');\n\nfunction writeStream(writePath, file, written) {\n  var opt = {\n    mode: file.stat.mode,\n    flag: file.flag,\n  };\n\n  var outStream = fs.createWriteStream(writePath, opt);\n\n  file.contents.once('error', complete);\n  file.contents.once('end', readStreamEnd);\n  outStream.once('error', complete);\n  outStream.once('finish', complete);\n\n  // Streams are piped with end disabled, this prevents the\n  // WriteStream from closing the file descriptor after all\n  // data is written.\n  file.contents.pipe(outStream, { end: false });\n\n  function readStreamEnd() {\n    streamFile(file, complete);\n  }\n\n  function end(propagatedErr) {\n    outStream.end(onEnd);\n\n    function onEnd(endErr) {\n      written(propagatedErr || endErr);\n    }\n  }\n\n  // Cleanup\n  function complete(streamErr) {\n    file.contents.removeListener('error', complete);\n    file.contents.removeListener('end', readStreamEnd);\n    outStream.removeListener('error', complete);\n    outStream.removeListener('finish', complete);\n\n    if (streamErr) {\n      return end(streamErr);\n    }\n\n    if (typeof outStream.fd !== 'number') {\n      return end();\n    }\n\n    fo.updateMetadata(outStream.fd, file, end);\n  }\n}\n\nmodule.exports = writeStream;\n"],"mappings":"AAAA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,aAAD,CAAhB;;AAEA,IAAIC,EAAE,GAAGD,OAAO,CAAC,sBAAD,CAAhB;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,kCAAD,CAAxB;;AAEA,SAASG,WAAT,CAAqBC,SAArB,EAAgCC,IAAhC,EAAsCC,OAAtC,EAA+C;EAC7C,IAAIC,GAAG,GAAG;IACRC,IAAI,EAAEH,IAAI,CAACI,IAAL,CAAUD,IADR;IAERE,IAAI,EAAEL,IAAI,CAACK;EAFH,CAAV;EAKA,IAAIC,SAAS,GAAGZ,EAAE,CAACa,iBAAH,CAAqBR,SAArB,EAAgCG,GAAhC,CAAhB;EAEAF,IAAI,CAACQ,QAAL,CAAcC,IAAd,CAAmB,OAAnB,EAA4BC,QAA5B;EACAV,IAAI,CAACQ,QAAL,CAAcC,IAAd,CAAmB,KAAnB,EAA0BE,aAA1B;EACAL,SAAS,CAACG,IAAV,CAAe,OAAf,EAAwBC,QAAxB;EACAJ,SAAS,CAACG,IAAV,CAAe,QAAf,EAAyBC,QAAzB,EAX6C,CAa7C;EACA;EACA;;EACAV,IAAI,CAACQ,QAAL,CAAcI,IAAd,CAAmBN,SAAnB,EAA8B;IAAEO,GAAG,EAAE;EAAP,CAA9B;;EAEA,SAASF,aAAT,GAAyB;IACvBd,UAAU,CAACG,IAAD,EAAOU,QAAP,CAAV;EACD;;EAED,SAASG,GAAT,CAAaC,aAAb,EAA4B;IAC1BR,SAAS,CAACO,GAAV,CAAcE,KAAd;;IAEA,SAASA,KAAT,CAAeC,MAAf,EAAuB;MACrBf,OAAO,CAACa,aAAa,IAAIE,MAAlB,CAAP;IACD;EACF,CA5B4C,CA8B7C;;;EACA,SAASN,QAAT,CAAkBO,SAAlB,EAA6B;IAC3BjB,IAAI,CAACQ,QAAL,CAAcU,cAAd,CAA6B,OAA7B,EAAsCR,QAAtC;IACAV,IAAI,CAACQ,QAAL,CAAcU,cAAd,CAA6B,KAA7B,EAAoCP,aAApC;IACAL,SAAS,CAACY,cAAV,CAAyB,OAAzB,EAAkCR,QAAlC;IACAJ,SAAS,CAACY,cAAV,CAAyB,QAAzB,EAAmCR,QAAnC;;IAEA,IAAIO,SAAJ,EAAe;MACb,OAAOJ,GAAG,CAACI,SAAD,CAAV;IACD;;IAED,IAAI,OAAOX,SAAS,CAACa,EAAjB,KAAwB,QAA5B,EAAsC;MACpC,OAAON,GAAG,EAAV;IACD;;IAEDjB,EAAE,CAACwB,cAAH,CAAkBd,SAAS,CAACa,EAA5B,EAAgCnB,IAAhC,EAAsCa,GAAtC;EACD;AACF;;AAEDQ,MAAM,CAACC,OAAP,GAAiBxB,WAAjB"},"metadata":{},"sourceType":"script"}